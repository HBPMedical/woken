
# Sample configuration for local execution of woken validation

akka {
  loglevel = DEBUG
  stdout-loglevel = WARNING
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"

  log-dead-letters = 10

  # a nice way to prevent cold start of extension is to define it to be loaded on actor system start
  extensions += "com.github.levkhomich.akka.tracing.TracingExtension"

  tracing {
    # use this option to disable tracing
    #    enabled = off

    # zipkin collector or scribe host name
    host = "zipkin"

    # collector's port
    #    port = 9410 # default, can be omitted

    # every n'th message should be traced
    # for example, 1 means that every message would be traced, 2 - half of messages, 4 - a fourth part, etc.
    sample-rate = 1
  }

  actor {
    provider = "cluster"
    enable-additional-serialization-bindings = on

    debug {
      receive = on
      autoreceive = off
      lifecycle = on
      fsm = on
      unhandled = on
      event-stream = off
    }
  }

  remote {
    log-sent-messages = on
    log-received-messages = on
    log-remote-lifecycle-events = off

    maximum-payload-bytes = 10000000 bytes

    artery {
      enabled = on
      canonical.hostname = woken-validation # external (logical) hostname
      canonical.port = 8082                 # external (logical) port

      bind.hostname = 127.0.0.1 # internal (bind) hostname
      bind.port = 2551          # internal (bind) port

      advanced.aeron-dir = "/dev/shm/woken"
    }
  }

  cluster {
    seed-nodes = [
      "akka://woken@woken:8088"
    ]

    roles = ["validation"]

    #role {
    #  woken.min-nr-of-members = 1
    #  validation.min-nr-of-members = 1
    #}
  }
}
